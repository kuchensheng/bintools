{"rule":
    {"api":
        {"path":"/api/app/orc/bw/edit","protocol":"http","method":"POST","parameters":[{"name":"root","in":"body","schema":{"type":"object","properties":{"authEndTime":{"name":"authEndTime","in":"body","type":"string","required":false},"personMobile":{"name":"personMobile","in":"body","type":"string","required":false},"authStartTime":{"name":"authStartTime","in":"body","type":"string","required":false},"plateNumber":{"name":"plateNumber","in":"body","type":"string","required":false},"remarks":{"name":"remarks","in":"body","type":"string","required":false},"bwId":{"name":"bwId","in":"body","type":"string","required":false}}}}],"requireLogin":false},"responses":{"200":{"schema":{"type":"object","properties":{"message":{"name":"message","type":"string","required":false,"default":"$21330edbcb3242c1aacddfb69860d3fc.$resp.export.message"},"code":{"name":"code","type":"string","required":false,"default":"$21330edbcb3242c1aacddfb69860d3fc.$resp.export.code"}}}}},"steps":[{"prevId":"","graphId":"21330edbcb3242c1aacddfb69860d3fc","local":true,"language":"javascript","script":{"language":"javascript","script":"let res = {\n    \"code\":200,\n    \"message\":\"成功\",\n    \"data\":{}\n}\nres\n\n"}},{"prevId":"21330edbcb3242c1aacddfb69860d3fc","graphId":"8ad2dea3b33c4f4d9f2b82102c1016e0","local":true,"predicate":[{"enabled":true,"key":"$req.data.plateNumber","value":"浙","operator":"inc","isRegex":false}],"predicateType":0,"thenGraphId":"23f398a93f764236b0c2b7a05d6a1feb","elseGraphId":"9c719f63a18a459b81e54e8cb795f9d5"},{"prevId":"8ad2dea3b33c4f4d9f2b82102c1016e0","graphId":"9c719f63a18a459b81e54e8cb795f9d5","local":true},{"prevId":"8ad2dea3b33c4f4d9f2b82102c1016e0","graphId":"23f398a93f764236b0c2b7a05d6a1feb","domain":"isc-tddm-service:38800","protocol":"http","method":"GET","path":"/api/tddm/model/basic/1600380685216194561","parameters":[{"name":"token","type":"String","in":"header","required":true},{"name":"personTag","type":"Integer","in":"query","required":false},{"name":"personName","type":"String","in":"query","required":false},{"name":"personMobile","type":"String","in":"query","required":false},{"name":"plateNumber","type":"String","in":"query","required":false},{"name":"authStartTime","type":"Timestamp","in":"query","required":false},{"name":"authEndTime","type":"Timestamp","in":"query","required":false},{"name":"valid","type":"Integer","in":"query","required":false},{"name":"remarks","type":"String","in":"query","required":false},{"name":"factoryIdentify","type":"String","in":"query","required":false},{"name":"factoryRecordIdentify","type":"String","in":"query","required":false},{"name":"createTime","type":"Timestamp","in":"query","required":false},{"name":"updateTime","type":"Timestamp","in":"query","required":false},{"name":"id","type":"Integer","in":"query","required":false,"default":"$req.data.bwId"},{"name":"pageSize","type":"Integer","in":"query","required":true},{"name":"pageNum","type":"Integer","in":"query","required":true},{"name":"root","in":"body","schema":{"type":"object","properties":{}}}]},{"prevId":"23f398a93f764236b0c2b7a05d6a1feb","graphId":"f909fb3bfd9a429ebe55c6b3fbe37e32","local":true,"language":"javascript","script":{"language":"javascript","script":"let records = $23f398a93f764236b0c2b7a05d6a1feb.$resp.data.data.records\nif(records.length === 0){\n    null\n}else{\n    let ok = {\n        \"blackGuid\":records[0].factoryRecordIdentify,\n        \"factoryIdentify\":records[0].factoryIdentify\n    }\n    ok\n}"}},{"prevId":"f909fb3bfd9a429ebe55c6b3fbe37e32","graphId":"d782b51c2a6f4132a8dc17edcef4f08f","local":true,"predicate":[{"enabled":true,"key":"$f909fb3bfd9a429ebe55c6b3fbe37e32.$resp.export","value":"","operator":"nil","isRegex":false}],"predicateType":0,"thenGraphId":"f71d93723d40403f9f1d823570e93d55","elseGraphId":"d5f586390e944368a89668eb5cd60ac1"},{"prevId":"d782b51c2a6f4132a8dc17edcef4f08f","graphId":"d5f586390e944368a89668eb5cd60ac1","local":true},{"prevId":"d782b51c2a6f4132a8dc17edcef4f08f","graphId":"f71d93723d40403f9f1d823570e93d55","local":true,"language":"javascript","script":{"language":"javascript","script":"$21330edbcb3242c1aacddfb69860d3fc.$resp.export = {\n    \"code\":100,\n    \"message\":\"记录不存在\"\n}\n\n"}},{"prevId":"d5f586390e944368a89668eb5cd60ac1","graphId":"53f61088553443fdb0225de6d3637785","domain":"isc-orchestration-service:38234","protocol":"http","method":"POST","path":"/api/app/orc/integration/bw/edit","parameters":[{"name":"root","in":"body","schema":{"type":"object","properties":{"blackWhiteType":{"name":"blackWhiteType","in":"body","type":"int","required":false,"default":"2"},"endDate":{"name":"endDate","in":"body","type":"string","required":false,"default":"$req.data.authEndTime"},"factoryRecordIdentify":{"name":"factoryRecordIdentify","in":"body","type":"string","required":false,"default":"$f909fb3bfd9a429ebe55c6b3fbe37e32.$resp.export.factoryIdentify"},"blackGuid":{"name":"blackGuid","in":"body","type":"string","required":false,"default":"$21330edbcb3242c1aacddfb69860d3fc.$resp.export.blackGuid"},"plateNumber":{"name":"plateNumber","in":"body","type":"string","required":false,"default":"$req.data.plateNumber"},"startDate":{"name":"startDate","in":"body","type":"string","required":false,"default":"$req.data.authStartTime"}}}}]},{"prevId":"53f61088553443fdb0225de6d3637785","graphId":"17ecfcd454ef4bbcaac7d66575a5d7e5","local":true,"predicate":[{"enabled":true,"key":"$53f61088553443fdb0225de6d3637785.$resp.data.code","value":"200","operator":"==","isRegex":false}],"predicateType":0,"thenGraphId":"5774760d68f74722855e236a4a66647f","elseGraphId":"4f26cb6ad3714729bbe946b7702ef623"},{"prevId":"17ecfcd454ef4bbcaac7d66575a5d7e5","graphId":"4f26cb6ad3714729bbe946b7702ef623","local":true},{"prevId":"17ecfcd454ef4bbcaac7d66575a5d7e5","graphId":"5774760d68f74722855e236a4a66647f","domain":"isc-tddm-service:38800","protocol":"http","method":"PATCH","path":"/api/tddm/model/basic/1600380685216194561","parameters":[{"name":"token","type":"String","in":"header","required":true},{"name":"personTag","type":"Integer","in":"query","required":false},{"name":"personName","type":"String","in":"query","required":false},{"name":"personMobile","type":"String","in":"query","required":false},{"name":"plateNumber","type":"String","in":"query","required":false},{"name":"authStartTime","type":"Timestamp","in":"query","required":false},{"name":"authEndTime","type":"Timestamp","in":"query","required":false},{"name":"valid","type":"Integer","in":"query","required":false},{"name":"remarks","type":"String","in":"query","required":false},{"name":"factoryIdentify","type":"String","in":"query","required":false},{"name":"factoryRecordIdentify","type":"String","in":"query","required":false},{"name":"createTime","type":"Timestamp","in":"query","required":false},{"name":"updateTime","type":"Timestamp","in":"query","required":false},{"name":"id","type":"Integer","in":"query","required":false,"default":"$req.data.bwId"},{"name":"root","in":"body","schema":{"type":"object","properties":{"authEndTime":{"name":"authEndTime","in":"body","type":"string","required":false,"default":"$req.data.authEndTime"},"updateTime":{"name":"updateTime","in":"body","type":"string","required":false},"plateNumber":{"name":"plateNumber","in":"body","type":"string","required":false,"default":"$req.data.plateNumber"},"factoryIdentify":{"name":"factoryIdentify","in":"body","type":"string","required":false},"personName":{"name":"personName","in":"body","type":"string","required":false},"valid":{"name":"valid","in":"body","type":"string","required":false},"personMobile":{"name":"personMobile","in":"body","type":"string","required":false,"default":"$req.data.personMobile"},"authStartTime":{"name":"authStartTime","in":"body","type":"string","required":false,"default":"$req.data.authStartTime"},"createTime":{"name":"createTime","in":"body","type":"string","required":false},"factoryRecordIdentify":{"name":"factoryRecordIdentify","in":"body","type":"string","required":false},"id":{"name":"id","in":"body","type":"string","required":false},"remarks":{"name":"remarks","in":"body","type":"string","required":false,"default":"$req.data.remarks"},"personTag":{"name":"personTag","in":"body","type":"string","required":false}}}}]},{"prevId":"5774760d68f74722855e236a4a66647f","graphId":"fc7897405550431db34dac1cb5885031","local":true,"predicate":[{"enabled":true,"key":"$5774760d68f74722855e236a4a66647f.$resp.data.code","value":"0","operator":"==","isRegex":false}],"predicateType":0,"thenGraphId":"c83199232f3e468ea737564d74326576","elseGraphId":"fcdfe4b1c39046d3896475d6c3fca64f"},{"prevId":"fc7897405550431db34dac1cb5885031","graphId":"fcdfe4b1c39046d3896475d6c3fca64f","local":true},{"prevId":"fc7897405550431db34dac1cb5885031","graphId":"c83199232f3e468ea737564d74326576","local":true,"language":"javascript","script":{"language":"javascript","script":"$21330edbcb3242c1aacddfb69860d3fc.$resp.export = {\n    \"code\":200,\n    \"message\":\"编辑成功\"\n}\n\n"}},{"prevId":"fcdfe4b1c39046d3896475d6c3fca64f","graphId":"a5100e25c0634080827f893010791afd","local":true,"language":"javascript","script":{"language":"javascript","script":"$21330edbcb3242c1aacddfb69860d3fc.$resp.export = {\n    \"code\":$5774760d68f74722855e236a4a66647f.$resp.data.code,\n    \"message\": $5774760d68f74722855e236a4a66647f.$resp.data.message\n}"}},{"prevId":"4f26cb6ad3714729bbe946b7702ef623","graphId":"8a3a80ced5d348f88404a597be5e9699","local":true,"language":"javascript","script":{"language":"javascript","script":"$21330edbcb3242c1aacddfb69860d3fc.$resp.export = {\n    \"code\":$53f61088553443fdb0225de6d3637785.$resp.data.code,\n    \"message\":$53f61088553443fdb0225de6d3637785.$resp.data.message\n}\n\n"}},{"prevId":"9c719f63a18a459b81e54e8cb795f9d5","graphId":"20a315cf2b9548fb9a6870115a48c365","local":true,"language":"javascript","script":{"language":"javascript","script":"$21330edbcb3242c1aacddfb69860d3fc.$resp.export = {\n    \"code\":100,\n    \"message\":\"车牌号不合法\"\n}\n\n"}}]}}